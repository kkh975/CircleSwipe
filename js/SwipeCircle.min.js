/*!*
 * @autor: Blim - Koo Chi Hoon(kkh975@naver.com)
 * @license http://blim.mit-license.org/
 */function SwipeCircle(t){"use strict";function e(){var e=null,s=0;if(b=Y.extend(V,t),_=Y.isArray(b.wrap)?b.wrap:Y.dom2Array(b.wrap),T=Y.isArray(b.list)?b.list:Y.dom2Array(b.list),!T||!_)return!1;if(I=T.length,_=_[0],E=_.parentNode,W=Y.getCssPrefix(),b.touchMinumRange=Math.max(1,Math.min(100,b.touchMinumRange)),2>I)return!1;if(!(Y.hasCss3Transition()&&"addEventListener"in window))return!1;for(b.slideShowTime&&("boolean"==typeof b.slideShowTime&&(J=b.slideShowTime,J&&(b.slideShowTime=V.slideShowTime)),"string"==typeof b.slideShowTime&&(b.slideShowTime=parseInt(b.slideShowTime,10)),isNaN(b.slideShowTime)?J=!1:(J=!0,2*b.duration>=b.slideShowTime&&(b.slideShowTime=2*b.duration))),b.toStart&&(A=Y.isArray(b.toStart)?b.toStart:Y.dom2Array(b.toStart),Y.setBtnEvent(A,b.startEvents,i)),b.toStop&&(L=Y.isArray(b.toStop)?b.toStop:Y.dom2Array(b.toStop),Y.setBtnEvent(L,b.stopEvents,r)),b.toPrev&&($=Y.isArray(b.toPrev)?b.toPrev:Y.dom2Array(b.toPrev),Y.setBtnEvent($,b.moveEvents,v)),b.toNext&&(N=Y.isArray(b.toNext)?b.toNext:Y.dom2Array(b.toNext),Y.setBtnEvent(N,b.moveEvents,f)),b.pages&&(M=Y.isArray(b.pages)?b.pages:Y.dom2Array(b.pages),Y.setBtnEvent(M,b.moveEvents,function(t){p(t)})),2===I&&b.loop&&(e=T[0].cloneNode(!0),T.push(e),_.appendChild(e),e=T[1].cloneNode(!0),T.push(e),_.appendChild(e),k=!0,I=4),s=T.length,window.addEventListener("load",n,!1),E.addEventListener("touchstart",Z.setStart),E.addEventListener("touchmove",Z.setMove),E.addEventListener("touchend",Z.setEnd),E.addEventListener("touchcancel",Z.setEnd);--s>-1;)T[s].setAttribute("data-swipe-idx",s),T[s].addEventListener("focus",r,!1),T[s].addEventListener("blur",i,!1),T[s].addEventListener(W.transitionsendJs,y,!1);return!0}function n(){var t="",e=0,n=0,s=0,r=0,o=0,u=0;for(j=E.offsetWidth,B=j/2,O=360/I,Y.setCss3(E,"perspective",2*j+"px"),Y.setCss3(E,"user-select","none"),t="position: relative; ",t+="width: 100%; ",t+="height: 100%; ",_.style.cssText=t,Y.setCss3(_,"transform-style","preserve-3d"),Y.setCss3(_,"transform","scale(0.75)"),u=0,o=I;o>u;u++)e=O*u,n=Y.getRadius(e),s=Math.round(Math.sin(n)*B),r=Math.round(Math.cos(n)*B),X.push(e),t="position: absolute; ",t+="width: 100%; ",t+="height: 100%; ",t+="height: 100%; ",t+="visibility: "+(2>u||I-1===u?"visible":"hidden"),T[u].style.cssText=t,t="translateX("+s+"px) translateZ("+r+"px) ",Y.setCss3(T[u],"transform",t),Y.setCss3(T[u],"backface-visibility","hidden");i(),"function"==typeof b.create&&b.create(a())}function s(){var t=T.length;for(window.removeEventListener("load",n,!1),E.removeEventListener("touchstart",Z.setStart),E.removeEventListener("touchmove",Z.setMove),E.removeEventListener("touchend",Z.setEnd),E.removeEventListener("touchcancel",Z.setEnd),_.removeEventListener(W.transitionsendJs,y,!1);--t>-1;)T[t].removeAttribute("data-swipe-idx"),T[t].removeEventListener("focus",r,!1),T[t].removeEventListener("blur",i,!1),T[t].removeEventListener(W.transitionsendJs,y,!1)}function i(){J&&null===P&&(P=setInterval(f,b.slideShowTime))}function r(){clearInterval(P),P=null}function o(){j=E.offsetWidth,B=j/2,Y.setCss3(E,"perspective",2*j+"px")}function a(){return z}function u(t){z=t}function c(){return D}function l(t){D=t}function d(){var t=a();return--t<0&&(t=b.loop?I-1:-1),t}function h(){var t=a();return++t>I-1&&(t=b.loop?0:-1),t}function v(){p(d(),"prev")}function f(){p(h(),"next")}function p(t,e){var n=a(),s=t-n,i=1===arguments.length;return R?!1:t===n?!1:0>t||t>I-1?!1:k&&i&&(t>1||t%2===n%2)?!1:Math.abs(s)>1&&Math.abs(s)!==I-1?!1:(i&&(e=s>0?"next":"prev",Math.abs(s)===I-1&&(e=0===n?"prev":"next")),k&&i&&t%2===1&&n%2===0&&(e="next"),l(t),m(),void w(s,b.duration,e))}function m(){var t=a(),e=c(),n=I;for(x();--n>-1;)T[n].style.visibility=n===t||n===e?"visible":"hidden";"function"==typeof b.before&&b.before(k?t%2:t)}function w(t,e,n){var s=a(),i=c(),r=Y.getCss3TransformPos(T[s]);0===r?(Y.setCss3Transition(T[s],e,"next"===n?-S:S),Y.setCss3Transition(T[i],e,0)):r%g===0?y({target:T[s]}):(e=e*(g-Math.abs(r))/g,Y.setCss3Transition(T[s],e,"next"===n?-S:S),Y.setCss3Transition(T[i],e,0))}function y(){var t=a(),e=c(),n=0,s=0,i=I;for(u(e),n=d(),s=h(),X[t]=e>t?-S:S,X[e]=0,Y.setCss3Transition(T[t],0,X[t]),Y.setCss3Transition(T[e],0,X[e]),-1!==n&&(X[n]=-S,Y.setCss3Transition(T[n],0,X[n])),-1!==s&&(X[s]=S,Y.setCss3Transition(T[s],0,X[s])),t=a();--i>-1;)T[i].style.visibility=i===t||i===n||i===s?"visible":"hidden";C(),"function"==typeof b.active&&b.active(k?t%2:t)}function x(){R=!0,r()}function C(){R=!1,i()}var g=100,S=90,b=null,E=null,_=null,T=null,M=null,A=null,L=null,$=null,N=null,P=null,k=!1,J=!1,R=!1,j=0,I=0,B=0,O=0,X=[],z=0,D=0,W={},V={wrap:null,list:null,pages:null,toStart:null,toStop:null,toPrev:null,toNext:null,startEvents:"click",stopEvents:"click",moveEvents:"click",pageEvents:"click",slideShowTime:3e3,touchMinumRange:10,loop:!0,duration:500,create:null,before:null,active:null},Y={extend:function(t,e){var n=null,s={};for(n in t)s[n]=n in e?e[n]:t[n];return s},isArray:function(t){return t?"[object Array]"===Object.prototype.toString.call(t):!1},trim:function(t){return t.replace(/(^\s*)|(\s*$)/gi,"")},dom2Array:function(t){var e=[],n=0,s=0;if(t){if(s=t.length,s>0)for(n=0;s>n;n++)e.push(t[n]);else e.push(t);return e}return null},object2Array:function(t){var e=[];for(var n in t)e.push(t[n]);return e},getRadius:function(t){return t*Math.PI/180},getCssPrefix:function(){var t=["-webkit-transition","transition"],e=["-webkit-transform","transform"],n=["webkitTransition","transition"],s=["webkitTransform","transform"],i=["webkitTransitionEnd","transitionend"],r=window.getComputedStyle(document.body,""),o=(Y.object2Array(r).join("").match(/-(webkit|moz|ms|o)-/)||""===r.OLink&&["","o"])[1],a="WebKit|Moz|MS|O".match(new RegExp("("+o+")","i"))[1],u="webkit"===o;return{prefixCss:o,prefixJs:a.toLowerCase(),transitionsCss:t[u?0:1],transformsCss:e[u?0:1],transformsJs:s[u?0:1],transitionsJs:n[u?0:1],transitionsendJs:i[u?0:1]}},hasCss3Transition:function(){var t=document.createElement("div"),e=t.style;return W.transitionsJs in e},getCss3TransformPos:function(t){var e=t.style,n="";return n=e[W.transformsJs],n=n.substring(n.indexOf("(")+1,n.indexOf("px")),parseFloat(n)},setListTransition:function(t,e,n){var s=0,i=0;for(i=0;I>i;i++)s=X[i],s+=e,n&&(X[i]=s),Y.setCss3Transition(T[i],t,s)},setCss3Transition:function(t,e,n){var s=Y.getRadius(n),i=Math.round(Math.sin(s)*B),r=Math.round(Math.cos(s)*B);Y.setCss3(t,"transition",e+"ms"),Y.setCss3(t,"transform","translateX("+i+"px) translateZ("+r+"px)")},setCss3:function(t,e,n){var s,i=t.style;"transition"===e?i[W.transitionsJs]=n:"transform"===e?i[W.transformsJs]=n:(i["-"+W.prefixJs+"-"+e]=n,i[e]=n,s=e.split("-"),s=s.map(function(t,e){return 0===e?t:t.substring(0,1).toUpperCase()+t.substring(1,t.length)}),i[s.join("")]=n)},setBtnEvent:function(t,e,n){for(var s=e.split(","),i=s.length,r=t.length,o="";--i>-1;)for(;--r>-1;)o=Y.trim(s[i]),function(e){t[r].addEventListener(o,function(t){n(e),t.preventDefault()})}(r)}},Z={is_touch_start:!1,touch_start_x:0,touch_start_y:0,move_dx:0,setInitVaiable:function(){Z.is_touch_start=!1,Z.touch_start_x=0,Z.touch_start_y=0,Z.move_dx=0},canPrevMove:function(){return b.loop||-1!==d()?!0:!1},canNextMove:function(){var t=h(),e=(k?I-2:I)-1;return!b.loop&&(-1===t||t>e)?!1:!0},setStart:function(t){return Z.is_touch_start||R?!1:(x(),void(Z.is_touch_start||"touchstart"!==t.type||1!==t.touches.length||(Z.is_touch_start=!0,Z.touch_start_x=t.touches[0].pageX,Z.touch_start_y=t.touches[0].pageY,t.preventDefault())))},setMove:function(t){var e=0,n=0;Z.is_touch_start&&"touchmove"===t.type&&1===t.touches.length&&(e=t.touches[0].pageX-Z.touch_start_x,n=t.touches[0].pageY-Z.touch_start_y,Z.move_dx=e/j*100,Math.abs(e)>Math.abs(n)&&(Z.move_dx=Math.max(-S,Math.min(S,Z.move_dx)),Y.setListTransition(0,Z.move_dx)),t.preventDefault())},setEnd:function(t){var e=Math.abs(Z.move_dx)>b.touchMinumRange,n=Z.move_dx<0,s=n?Z.canNextMove():Z.canPrevMove();Z.is_touch_start&&"touchend"===t.type&&(e&&s?(R=!1,n?f():v()):Y.setListTransition(b.duration,0)),"touchcancel"===t.type&&(R=!1),Z.setInitVaiable()}};return e()?{startSlideShow:i,stopSlideShow:r,refreshSize:o,getIdx:a,toNext:f,toPrev:v,toSlide:p,destory:s}:void 0}!function(t){"use strict";t.fn.swipeCircle=function(e){return e.$list=e.$list?e.$list:t(this).find("> ul > li"),e.$wrap=e.$wrap?e.$wrap:t(this).find("> ul"),e.wrap=e.$wrap?e.$wrap.toArray():[],e.list=e.$list?e.$list.toArray():[],e.pages=e.$pages?e.$pages.toArray():[],e.toStart=e.$toStart?e.$toStart.toArray():[],e.toStop=e.$toStop?e.$toStop.toArray():[],e.toPrev=e.$toPrev?e.$toPrev.toArray():[],e.toNext=e.$toNext?e.$toNext.toArray():[],this.each(function(){t(this).data("swipeCircle",new SwipeCircle(e))})},t.fn.swipeCircle2start=function(){return this.each(function(){t(this).data("swipeCircle").startSlideShow()})},t.fn.swipeCircle2stop=function(){return this.each(function(){t(this).data("swipeCircle").stopSlideShow()})},t.fn.swipeCircle2prev=function(){return this.each(function(){t(this).data("swipeCircle").toPrev()})},t.fn.swipeCircle2next=function(){return this.each(function(){t(this).data("swipeCircle").toNext()})},t.fn.swipeCircle2slide=function(e){return this.each(function(){t(this).data("swipeCircle").toSlide(e)})},t.fn.swipeCircle2destory=function(){return this.each(function(){t(this).data("swipeCircle").destory()})}}(jQuery);